<div class="widget">
    <h5 class="widgetheading">Categories</h5>
    <ul class="cat">
        {% assign tags_list = site.categories %}  
            {% if tags_list.first[0] == null %}
                {% for tag in tags_list %} 
                    <li><i class="icon-angle-right"></i><a href="{{ tag | prepend: '/blog/' | prepend: site.baseurl }}">{{ tag }} <span> ({{ site.categories[tag].size }})</span></a></li>
                {% endfor %}
            {% else %}
                {% for tag in tags_list %} 
                    <li><i class="icon-angle-right"></i><a href="{{ tag[0] | prepend: '/blog/' | prepend: site.baseurl }}">{{ tag[0] }} <span> ({{ tag[1].size }})</span></a></li>
                {% endfor %}
            {% endif %}
        {% assign tags_list = nil %}
    </ul>
</div>